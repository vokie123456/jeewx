Date.prototype.format=function(a,b){var c,d,e,f,g;if(a||(a="yyyy-MM-dd hh:mm:ss"),""==b||null==b)return"";c=b.replace(/-/g,"/"),d=c.indexOf("."),d>0&&(c=c.substr(0,d)),e=new Date(Date.parse(c)),f={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},/(y+)/.test(a)&&(a=a.replace(RegExp.$1,c.substr(4-RegExp.$1.length,RegExp.$1.length)));for(g in f)new RegExp("("+g+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?f[g]:("00"+f[g]).substr((""+f[g]).length)));return a};